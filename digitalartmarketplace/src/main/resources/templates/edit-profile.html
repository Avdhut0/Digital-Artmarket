<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit Profile | Digital Art Marketplace</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
          rel="stylesheet">

    <!-- IMPORTANT -->
    <link rel="stylesheet" th:href="@{/style.css}">
</head>

<body class="profile-edit-page">

<div class="bg-gradient"></div>

<div class="edit-profile-wrapper">

    <div class="edit-profile-card">

        <h2 class="edit-title">Edit Profile</h2>
        <p class="edit-subtitle">Update your personal information</p>

        <form th:action="@{/profile/edit}"
              method="post"
              enctype="multipart/form-data">

            <!-- Profile Image -->
            <div class="image-upload-section">

                <div class="avatar-preview">
                    <img th:if="${user.profileImage != null}"
                         th:src="@{'/uploads/profile/' + ${user.profileImage}}"
                         alt="Profile Image">

                    <span th:if="${user.profileImage == null}"
                          th:text="${user.name.substring(0,1)}">
                    </span>
                </div>

                <label class="upload-label">
                    Change Photo
                    <input type="file" name="image">
                </label>
            </div>

            <!-- Name -->
            <div class="form-group">
                <label>Name</label>
                <input type="text"
                       name="name"
                       th:value="${user.name}"
                       required>
            </div>

            <!-- Email -->
            <div class="form-group">
                <label>Email</label>
                <input type="email"
                       name="email"
                       th:value="${user.email}"
                       required>
            </div>

            <!-- Buttons -->
            <div class="form-actions">
                <button type="submit" class="btn-primary">
                    Save Changes
                </button>

                <a th:href="@{/profile}" class="btn-secondary">
                    Cancel
                </a>
            </div>

        </form>

    </div>
</div>

</body>
</html>
